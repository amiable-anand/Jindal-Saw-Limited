<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:Jindal.Models"
             x:Class="Jindal.Views.RoomPage"
             Title="Rooms"
             BackgroundColor="#F8FAFC">

    <!-- Page Layout -->
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">

            <!-- ?? Top Bar: Add + Search + Reload -->
            <Grid ColumnSpacing="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- ðŸ  Add Room Button -->
                <Button Text="+ Add Room"
                        Grid.Column="0"
                        Clicked="OnAddRoomClicked"
                        BackgroundColor="#059669"
                        TextColor="White"
                        FontSize="13"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        Padding="10,4"
                        WidthRequest="110"
                        HeightRequest="36" />

                <!-- ðŸ” Search Bar -->
                <SearchBar x:Name="SearchBar"
                           Grid.Column="1"
                           Placeholder="Search rooms..."
                           SearchButtonPressed="OnSearchPressed"
                           FontSize="13"
                           BackgroundColor="#F3F4F6"
                           PlaceholderColor="#64748B"
                           TextColor="#374151"
                           Margin="8,0"
                           HeightRequest="40" />

                <!-- ðŸ”„ Reload Button -->
                <Button Text="Reload"
                        Grid.Column="2"
                        Clicked="OnReloadClicked"
                        BackgroundColor="#E5E7EB"
                        TextColor="#374151"
                        FontSize="13"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        Padding="10,4"
                        WidthRequest="80"
                        HeightRequest="36" />
            </Grid>

            <!-- ðŸ“„ Table Headers -->
            <Border BackgroundColor="White" Padding="16">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.2" Radius="3" Offset="0,2"/>
                </Border.Shadow>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="2*" />
                    </Grid.ColumnDefinitions>

                    <Label Text="Room No" FontAttributes="Bold" TextColor="#1E3A8A" FontSize="13"/>
                    <Label Text="Availability" Grid.Column="1" FontAttributes="Bold" TextColor="#1E3A8A" FontSize="13"/>
                    <Label Text="Location" Grid.Column="2" FontAttributes="Bold" TextColor="#1E3A8A" FontSize="13"/>
                    <Label Text="Remark" Grid.Column="3" FontAttributes="Bold" TextColor="#1E3A8A" FontSize="13"/>
                    <Label Text="Action" Grid.Column="4" FontAttributes="Bold" TextColor="#1E3A8A" FontSize="13"/>
                </Grid>
            </Border>

            <!-- ðŸ“„ Room List -->
            <CollectionView x:Name="RoomCollection" SelectionMode="None">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:Room">
                        <Border BackgroundColor="White"
                                Padding="12"
                                Margin="0,5">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="8"/>
                            </Border.StrokeShape>
                            <Border.Shadow>
                                <Shadow Brush="Black" Opacity="0.2" Radius="3" Offset="0,2"/>
                            </Border.Shadow>

                            <Grid ColumnSpacing="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="2*" />
                                    <ColumnDefinition Width="2*" />
                                    <ColumnDefinition Width="2*" />
                                </Grid.ColumnDefinitions>

                                <!-- ?? Room Details -->
                                <Label Text="{Binding RoomNumber}" TextColor="#374151" FontSize="13"/>
                                <Label Text="{Binding Availability}" Grid.Column="1" TextColor="#374151" FontSize="13"/>
                                <Label Text="{Binding LocationName}" Grid.Column="2" TextColor="#374151" FontSize="13"/>
                                <Label Text="{Binding Remark}" Grid.Column="3" TextColor="#374151" FontSize="13"/>

                                <!-- ?? Edit & Delete Buttons -->
                                <HorizontalStackLayout Grid.Column="4" Spacing="4">
                                    <Button Text="Edit"
                                            Clicked="OnEditClicked"
                                            BackgroundColor="#1E3A8A"
                                            TextColor="White"
                                            FontSize="12"
                                            FontAttributes="Bold"
                                            CornerRadius="6"
                                            Padding="8,3"
                                            WidthRequest="60"
                                            HeightRequest="30" />

                                    <Button Text="Delete"
                                            Clicked="OnDeleteClicked"
                                            BackgroundColor="#DC2626"
                                            TextColor="White"
                                            FontSize="12"
                                            FontAttributes="Bold"
                                            CornerRadius="6"
                                            Padding="8,3"
                                            WidthRequest="60"
                                            HeightRequest="30" />
                                </HorizontalStackLayout>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
